# bisect -- Maintain Lists in Sorted Order
> 目的：以排序的顺序维护一个列表，而不必每次将一个项添加到列表中。

bisect模块实现了一种算法，将元素插入到列表中，同时按照排序顺序维护列表。
## Inserting in Sorted Order
下面是一个简单的例子，其中insort()用于将项插入到已排序的列表中。
<pre><code># bisect_example.py


import bisect

values = [14, 85, 77, 26, 50, 45, 66, 79, 10, 3, 84, 77, 1]

print('New Pos Contents')
print('--- --- --------')

l = []
for i in values:
    position = bisect.bisect(l, i)
    bisect.insort(l, i)
    print('{:3} {:3}'.format(i, position), l)</pre></code>
输出的第一列显示新的随机数。第二列显示了将数字插入列表的位置。每一行的其余部分是当前已排序的列表。
<pre><code>$ python bisect_example.py
New Pos Contents
--- --- --------
 14   0 [14]
 85   1 [14, 85]
 77   1 [14, 77, 85]
 26   1 [14, 26, 77, 85]
 50   2 [14, 26, 50, 77, 85]
 45   2 [14, 26, 45, 50, 77, 85]
 66   4 [14, 26, 45, 50, 66, 77, 85]
 79   6 [14, 26, 45, 50, 66, 77, 79, 85]
 10   0 [10, 14, 26, 45, 50, 66, 77, 79, 85]
  3   0 [3, 10, 14, 26, 45, 50, 66, 77, 79, 85]
 84   9 [3, 10, 14, 26, 45, 50, 66, 77, 79, 84, 85]
 77   8 [3, 10, 14, 26, 45, 50, 66, 77, 77, 79, 84, 85]
  1   0 [1, 3, 10, 14, 26, 45, 50, 66, 77, 77, 79, 84, 85]</pre></code>
这是一个简单的例子。事实上，考虑到被操纵的数据量，简单地构建列表并排序一次可能会更快。
相比之下，对于长链表，可以使用插入排序算法(特别是当操作比较两个列表的成员需要昂贵的计算时)来实现大量的时间和内存节省。
## Handling Duplicates
前面所示的结果集包含一个重复值77。bisect模块提供了两种处理重复的方法:新值可以插入到现有值的左边，也可以插入右边。
insort()函数实际上是insort_right()的别名，它在现有值之后插入一个项。函数insort_left()在现有值之前插入一个项。
<pre><code># bisect_example2.py

import bisect

values = [14, 85, 77, 26, 50, 45, 66, 79, 10, 3, 84, 77, 1]

print('New Pos Contents')
print('--- --- --------')

l = []
for i in values:
    position = bisect.bisect_left(l, i)
    bisect.insort_left(l, i)
    print('{:3} {:3}'.format(i, position), l)</pre></code>
当使用bisect_left()和insort_left()操作相同的数据时，结果是相同的排序列表，但是插入位置对于重复值是不同的。
<pre><code>$ python bisect_example2.py
New Pos Contents
--- --- --------
 14   0 [14]
 85   1 [14, 85]
 77   1 [14, 77, 85]
 26   1 [14, 26, 77, 85]
 50   2 [14, 26, 50, 77, 85]
 45   2 [14, 26, 45, 50, 77, 85]
 66   4 [14, 26, 45, 50, 66, 77, 85]
 79   6 [14, 26, 45, 50, 66, 77, 79, 85]
 10   0 [10, 14, 26, 45, 50, 66, 77, 79, 85]
  3   0 [3, 10, 14, 26, 45, 50, 66, 77, 79, 85]
 84   9 [3, 10, 14, 26, 45, 50, 66, 77, 79, 84, 85]
 77   7 [3, 10, 14, 26, 45, 50, 66, 77, 77, 79, 84, 85]
  1   0 [1, 3, 10, 14, 26, 45, 50, 66, 77, 77, 79, 84, 85]</pre></code>
